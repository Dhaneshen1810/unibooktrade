{"ast":null,"code":"var _jsxFileName = \"/home/dhaneshen/Documents/booktrade/unibooktrade/pages/testing.js\";\nvar __jsx = React.createElement;\nimport React, { useState, useEffect } from 'react';\nimport Link from 'next/link';\nimport Router from 'next/router';\nimport { useRouter } from 'next/router';\nimport { withRouter } from 'next/router';\nconst contact = withRouter(({\n  router: {\n    query: {\n      name,\n      id,\n      firstname,\n      bookID,\n      bookOwnerName,\n      ownerFirstName,\n      bookOwnerID,\n      bookTitle\n    }\n  },\n  books\n}) => {\n  const {\n    0: defaultText,\n    1: setDefaultText\n  } = useState('');\n  const {\n    0: booklist,\n    1: setBooklist\n  } = useState([]); // Assign constant names to values obtained from 'booklist' via withRouter\n\n  useEffect(() => {\n    const userName = name;\n    const userID = id;\n    const userFirstname = firstname;\n    setBooklist(books);\n  });\n\n  const myProfile = () => {\n    Router.push({\n      pathname: '/myprofile',\n      query: {\n        mytitle: '',\n        author: '',\n        name: name,\n        id: id,\n        firstname: firstname\n      }\n    });\n  };\n\n  const myBooks = () => {\n    Router.push({\n      pathname: '/new',\n      query: {\n        id: id,\n        name: name,\n        firstname: firstname\n      }\n    });\n  };\n\n  const Search = () => {\n    Router.push({\n      pathname: '/posts',\n      query: {\n        id: id,\n        name: name,\n        firstname: firstname\n      }\n    });\n  };\n\n  return __jsx(\"div\", {\n    className: \"contact-page\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: \"book-greeting\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    className: \"greeting-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    className: \"icon-box\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }\n  }, __jsx(Link, {\n    href: \"/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 21\n    }\n  }, __jsx(\"img\", {\n    src: \"/icons/sign-out.png\",\n    alt: \"my image\",\n    className: \"my-icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 25\n    }\n  })), __jsx(\"div\", {\n    className: \"my-icon-end\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 21\n    }\n  }, __jsx(\"img\", {\n    src: \"/icons/four-square.png\",\n    alt: \"my books\",\n    className: \"my-icon\",\n    onClick: myProfile,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 21\n    }\n  }), __jsx(\"img\", {\n    src: \"/icons/plus.png\",\n    alt: \"Add book\",\n    className: \"my-icon\",\n    onClick: myBooks,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 21\n    }\n  }), __jsx(\"img\", {\n    src: \"/icons/search.png\",\n    alt: \"Search\",\n    className: \"my-icon\",\n    onClick: Search,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 21\n    }\n  }))), __jsx(\"div\", {\n    style: {\n      marginTop: '4%',\n      padding: '10px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 17\n    }\n  }, __jsx(\"p\", {\n    style: {\n      fontSize: '18px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 17\n    }\n  }, \"This is a collection of all the books matching your search\", __jsx(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 17\n    }\n  }), __jsx(\"span\", {\n    style: {\n      fontSize: '16px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 22\n    }\n  }, \"Once you find the one you want, get in contact with the owner.\"))))), booklist.map(book => {\n    //var imageBase64 = book.imageFront.contentType;\n    var imageData;\n    var base64data;\n\n    if (book.imageFront) {\n      imageData = book.imageFront.data;\n    } else {\n      console.log('no image');\n      imageData = '';\n    }\n\n    return __jsx(\"div\", {\n      key: book._id,\n      className: \"book-item-profile\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 29\n      }\n    }, __jsx(\"div\", {\n      className: \"section1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 33\n      }\n    }, __jsx(\"div\", {\n      className: \"section1-image\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 37\n      }\n    }, __jsx(\"img\", {\n      src: imageData,\n      style: {\n        width: '100px',\n        height: '100px',\n        borderRadius: '20px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 41\n      }\n    })), __jsx(\"div\", {\n      className: \"section1-info\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 37\n      }\n    }, __jsx(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 41\n      }\n    }, __jsx(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 44\n      }\n    }, book.title)), __jsx(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 41\n      }\n    }, book.author), __jsx(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 41\n      }\n    }, \"$50\"))), __jsx(\"div\", {\n      className: \"section2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 33\n      }\n    }, __jsx(\"div\", {\n      className: \"buttons-section\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 37\n      }\n    }, __jsx(\"button\", {\n      className: \"btn btn-success\",\n      style: {\n        width: '100px',\n        height: '45px'\n      },\n      onClick: () => handleEdit(book._id, book.title, book.author, imageData),\n      id: book._id,\n      name: book.title,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 37\n      }\n    }, \"Edit\"), __jsx(\"button\", {\n      className: \"btn btn-secondary\",\n      style: {\n        width: '100px',\n        height: '45px'\n      },\n      onClick: handleDelete,\n      id: book._id,\n      name: book.title,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 37\n      }\n    }, \"Delete\"))));\n  }), __jsx(\"div\", {\n    className: \"bookInfo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 9\n    }\n  }, __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 13\n    }\n  }, \"Name: \", name), __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 13\n    }\n  }, \"Book id: \", bookID), __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 13\n    }\n  }, \"Owner name: \", bookOwnerName), __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 13\n    }\n  }, \"Owner ID: \", bookOwnerID)), __jsx(\"form\", {\n    style: {\n      width: '90%',\n      marginTop: '7%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 9\n    }\n  }, __jsx(\"textarea\", {\n    type: \"text\",\n    id: \"lname\",\n    name: \"lname\",\n    value: 'Hi there ' + ownerFirstName + ', I am interested in your book, ' + bookTitle + '!',\n    className: \"contact-textBox\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 13\n    }\n  }), __jsx(\"button\", {\n    style: {\n      marginTop: '4%'\n    },\n    className: \"btn btn-primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 13\n    }\n  }, \"Send message\")));\n});\n\ncontact.getInitialProps = async ctx => {\n  try {\n    //const res = await fetch('https://unibooktrade.vercel.app/api/books', {\n    const res = await fetch('http://localhost:3000/api/books', {\n      headers: {\n        title: '',\n        author: '',\n        id: ctx.query.ownerID\n      }\n    });\n    const {\n      data\n    } = await res.json();\n    return {\n      books: data\n    };\n  } catch (error) {\n    return {\n      books: []\n    };\n  }\n};\n\nexport default contact;","map":{"version":3,"sources":["/home/dhaneshen/Documents/booktrade/unibooktrade/pages/testing.js"],"names":["React","useState","useEffect","Link","Router","useRouter","withRouter","contact","router","query","name","id","firstname","bookID","bookOwnerName","ownerFirstName","bookOwnerID","bookTitle","books","defaultText","setDefaultText","booklist","setBooklist","userName","userID","userFirstname","myProfile","push","pathname","mytitle","author","myBooks","Search","marginTop","padding","fontSize","map","book","imageData","base64data","imageFront","data","console","log","_id","width","height","borderRadius","title","handleEdit","handleDelete","getInitialProps","ctx","res","fetch","headers","ownerID","json","error"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\n\nimport Link from 'next/link';\nimport Router from 'next/router';\nimport { useRouter } from 'next/router';\nimport { withRouter } from 'next/router';\n\n\nconst contact = withRouter(({ router:  { query:{name, id, firstname, bookID, bookOwnerName, ownerFirstName,bookOwnerID, bookTitle}}, books} ) => {\n    const [defaultText, setDefaultText] = useState('');\n    const [booklist, setBooklist] = useState([]);\n\n    // Assign constant names to values obtained from 'booklist' via withRouter\n    useEffect(() => {\n        const userName = name;\n        const userID = id;\n        const userFirstname = firstname;\n\n        setBooklist(books)\n\n    })\n\n\n    const myProfile = () => {\n        Router.push({\n            pathname: '/myprofile',\n            query: { \n                    mytitle: '',\n                    author: '',\n                    name: name,\n                    id: id,\n                    firstname: firstname\n                    \n            }\n        });\n    }\n\n    const myBooks = () => {\n        Router.push({\n            pathname: '/new',\n            query: { \n                    id: id,\n                    name: name,\n                    firstname: firstname\n                    \n            }\n        });\n    }\n\n    const Search = () => {\n        Router.push({\n            pathname: '/posts',\n            query: { \n                    id: id,\n                    name: name,\n                    firstname: firstname\n                    \n            }\n        });\n    }\n\n\n\n\n    return(\n        <div className='contact-page'>\n            <div className='book-greeting'>\n            <div className='greeting-text'>\n            <div className='icon-box'>\n                    <Link href='/'>\n                        <img src=\"/icons/sign-out.png\" alt=\"my image\" className='my-icon'/>\n                    </Link>\n                    \n                    <div className='my-icon-end'>\n                    <img src=\"/icons/four-square.png\" alt=\"my books\" className='my-icon' onClick={myProfile}/>\n                    \n                    <img src=\"/icons/plus.png\" alt=\"Add book\" className='my-icon' onClick={myBooks}/>\n                    <img src=\"/icons/search.png\" alt=\"Search\" className='my-icon' onClick={Search}/>\n                    \n                    </div>\n                    \n                </div>\n\n\n                <div style={{ marginTop:'4%', padding:'10px' }}>\n                    \n                <p style={{ fontSize:'18px' }}>This is a collection of all the books matching your search \n                \n                <br/><span style={{ fontSize: '16px' }}>Once you find the one you want, get in contact with the owner.</span></p>\n                \n                </div>\n            </div>\n            \n        </div>\n\n\n        \n\n        {booklist.map( book => {\n                \n                //var imageBase64 = book.imageFront.contentType;\n                var imageData;\n                var base64data;\n    \n                if (book.imageFront){\n                    \n                    imageData = book.imageFront.data;\n    \n                }\n                else{\n                    console.log('no image');\n                    imageData='';\n                }\n                \n    \n                \n                        return (\n                               \n                            <div key={book._id} className='book-item-profile'>\n    \n                                <div className='section1'>\n                                    <div className='section1-image'>\n                                        <img src={imageData}  style={{ width:'100px', height:'100px', borderRadius:'20px'}}/>\n                                    </div>\n                                    <div className='section1-info'>\n                                        <p><b>{book.title}</b></p>\n                                        <p>{book.author}</p>\n                                        <p>$50</p>\n                                    </div>\n                                \n                                </div>\n    \n                                <div className='section2'>\n                                    <div className='buttons-section'>\n                                    <button className='btn btn-success' style={{ width:'100px', height:'45px'}} onClick={() => handleEdit(book._id, book.title, book.author, imageData)} id={book._id} name={book.title}>Edit</button>\n                                    <button className='btn btn-secondary' style={{ width:'100px', height:'45px'}} onClick={handleDelete} id={book._id} name={book.title}>Delete</button>\n                                    </div>\n                                </div>\n                            \n                                \n                            </div>\n    \n                            \n    \n                            \n                        )\n                        \n                    \n                }\n                \n                \n                )}\n\n        <div className='bookInfo'>\n            <p>Name: {name}</p>\n            <p>Book id: {bookID}</p>\n            <p>Owner name: {bookOwnerName}</p>\n            <p>Owner ID: {bookOwnerID}</p>\n        </div>\n        <form style={{ width:'90%', marginTop:'7%' }}>\n            <textarea type=\"text\" \n                id=\"lname\" \n                name=\"lname\" \n                value= {'Hi there '+ownerFirstName+', I am interested in your book, '+bookTitle+'!'}\n                className='contact-textBox'\n                />\n            <button style={{ marginTop: '4%' }} className='btn btn-primary'>Send message</button>\n        </form>\n\n        </div>\n    )\n\n});\n\n\ncontact.getInitialProps = async (ctx) =>{\n\n    try {\n\n        //const res = await fetch('https://unibooktrade.vercel.app/api/books', {\n            const res = await fetch('http://localhost:3000/api/books', {\n                headers: {\n                    title: '',\n                    author: '',\n                    id: ctx.query.ownerID\n                }\n            });\n            const { data } = await res.json();\n        \n           \n           return{ books:data }\n           \n       } catch (error) {\n    \n        return { books: [] }\n           \n       }\n     \n }\n\nexport default contact;"]},"metadata":{},"sourceType":"module"}