{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport { withRouter } from \"next/router\";\nimport Link from 'next/link'; //Getting book data from database\n\nimport fetch from 'isomorphic-unfetch';\nconst posts = withRouter(({\n  router: {\n    query: {\n      mytitle,\n      author\n    }\n  },\n  books\n}) => {\n  return __jsx(\"div\", null, __jsx(\"div\", {\n    className: \"book-greeting\"\n  }, __jsx(\"div\", {\n    className: \"greeting-text\"\n  }, __jsx(\"p\", null, mytitle), __jsx(\"p\", null, \"Find your book by entering the \", __jsx(\"b\", null, \"Author\"), \" or \", __jsx(\"b\", null, \"Book name below.\")))), __jsx(\"div\", {\n    className: \"book-list\"\n  }, books.map(book => {\n    //if (mytitle=='' && author==''){\n    return __jsx(\"div\", {\n      key: book._id,\n      className: \"book-item\"\n    }, __jsx(\"p\", null, \"Title: \", book.title), __jsx(\"p\", null, \"Author: \", book.author));\n  })));\n});\n\nposts.getInitialProps = async mytitle => {\n  console.log('book is');\n  console.log(mytitle.query.mytitle);\n  const res = await fetch('http://localhost:3000/api/books', {\n    headers: {\n      title: mytitle.query.mytitle,\n      author: mytitle.query.author\n    }\n  });\n  const {\n    data\n  } = await res.json();\n  return {\n    books: data\n  };\n};\n\nexport default posts;","map":null,"metadata":{},"sourceType":"module"}