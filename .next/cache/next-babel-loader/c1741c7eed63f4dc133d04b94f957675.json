{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport { withRouter } from \"next/router\";\nimport Router from \"next/router\";\nimport Link from 'next/link'; //Getting book data from database\n\nimport fetch from 'isomorphic-unfetch';\nimport { useState, useEffect } from \"react\";\nconst posts = withRouter(({\n  router: {\n    query: {\n      name,\n      id,\n      firstname,\n      mytitle,\n      author\n    }\n  },\n  books\n}) => {\n  return __jsx(\"div\", null, __jsx(\"div\", {\n    className: \"book-greeting\"\n  }, __jsx(\"div\", {\n    className: \"greeting-text\"\n  }, __jsx(\"p\", null, \"Name: \", name), __jsx(\"p\", null, \"Id: \", id), __jsx(\"p\", null, \"Firstname: \", firstname), __jsx(\"p\", null, \"title: \", mytitle), __jsx(\"p\", null, \"Author: \", author), __jsx(\"p\", null, \"Find your book by entering the \", __jsx(\"b\", null, \"Author\"), \" or \", __jsx(\"b\", null, \"Book name below.\")))), __jsx(\"div\", {\n    className: \"book-list\"\n  }, books.map(book => {\n    return __jsx(\"div\", {\n      key: book._id,\n      className: \"book-item\"\n    }, __jsx(\"p\", null, \"Title: \", book.title), __jsx(\"p\", null, \"Author: \", book.author), __jsx(\"p\", null, \"Owner: \", book.ownerID), __jsx(\"p\", null, \"Book id: \", book._id));\n  })));\n});\n\nposts.getInitialProps = async ctx => {\n  const res = await fetch('http://localhost:3000/api/books', {\n    headers: {\n      title: ctx.query.mytitle,\n      author: ctx.query.author\n    }\n  });\n  const {\n    data\n  } = await res.json();\n  return {\n    books: data\n  };\n};\n\nexport default posts;","map":null,"metadata":{},"sourceType":"module"}