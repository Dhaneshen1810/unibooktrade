module.exports =
/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = require('../../ssr-module-cache.js');
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		var threw = true;
/******/ 		try {
/******/ 			modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 			threw = false;
/******/ 		} finally {
/******/ 			if(threw) delete installedModules[moduleId];
/******/ 		}
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./pages/api/books/index.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./modals/book.js":
/*!************************!*\
  !*** ./modals/book.js ***!
  \************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("const mongoose = __webpack_require__(/*! mongoose */ \"mongoose\");\n\nconst BookSchema = new mongoose.Schema({\n  title: {\n    type: String,\n    required: [true, 'Please add a title'],\n    trim: true,\n    maxlength: [120, 'Title cannot be more than 40 characters']\n  },\n  author: {\n    type: String,\n    required: true,\n    maxlength: [120, 'author cannot be more than 40 characters']\n  },\n  ownerID: {\n    type: Number\n  },\n  ownerName: {\n    type: String\n  },\n  imageFront: {\n    data: String,\n    contentType: String\n  }\n});\nmodule.exports = mongoose.models.Book || mongoose.model('Book', BookSchema);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9tb2RhbHMvYm9vay5qcz9mZDc5Il0sIm5hbWVzIjpbIm1vbmdvb3NlIiwicmVxdWlyZSIsIkJvb2tTY2hlbWEiLCJTY2hlbWEiLCJ0aXRsZSIsInR5cGUiLCJTdHJpbmciLCJyZXF1aXJlZCIsInRyaW0iLCJtYXhsZW5ndGgiLCJhdXRob3IiLCJvd25lcklEIiwiTnVtYmVyIiwib3duZXJOYW1lIiwiaW1hZ2VGcm9udCIsImRhdGEiLCJjb250ZW50VHlwZSIsIm1vZHVsZSIsImV4cG9ydHMiLCJtb2RlbHMiLCJCb29rIiwibW9kZWwiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLFFBQVEsR0FBR0MsbUJBQU8sQ0FBQywwQkFBRCxDQUF4Qjs7QUFFQSxNQUFNQyxVQUFVLEdBQUcsSUFBSUYsUUFBUSxDQUFDRyxNQUFiLENBQW9CO0FBQ25DQyxPQUFLLEVBQUU7QUFDSEMsUUFBSSxFQUFFQyxNQURIO0FBRUhDLFlBQVEsRUFBRSxDQUFDLElBQUQsRUFBTyxvQkFBUCxDQUZQO0FBR0hDLFFBQUksRUFBRSxJQUhIO0FBSUhDLGFBQVMsRUFBRSxDQUFDLEdBQUQsRUFBTSx5Q0FBTjtBQUpSLEdBRDRCO0FBT25DQyxRQUFNLEVBQUM7QUFDSEwsUUFBSSxFQUFFQyxNQURIO0FBRUhDLFlBQVEsRUFBRSxJQUZQO0FBR0hFLGFBQVMsRUFBRSxDQUFDLEdBQUQsRUFBTSwwQ0FBTjtBQUhSLEdBUDRCO0FBYW5DRSxTQUFPLEVBQUM7QUFDSk4sUUFBSSxFQUFFTztBQURGLEdBYjJCO0FBZ0JuQ0MsV0FBUyxFQUFDO0FBQ05SLFFBQUksRUFBRUM7QUFEQSxHQWhCeUI7QUFtQm5DUSxZQUFVLEVBQ1Y7QUFDSUMsUUFBSSxFQUFFVCxNQURWO0FBRUlVLGVBQVcsRUFBRVY7QUFGakI7QUFwQm1DLENBQXBCLENBQW5CO0FBMkJBVyxNQUFNLENBQUNDLE9BQVAsR0FBaUJsQixRQUFRLENBQUNtQixNQUFULENBQWdCQyxJQUFoQixJQUF3QnBCLFFBQVEsQ0FBQ3FCLEtBQVQsQ0FBZSxNQUFmLEVBQ3pDbkIsVUFEeUMsQ0FBekMiLCJmaWxlIjoiLi9tb2RhbHMvYm9vay5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IG1vbmdvb3NlID0gcmVxdWlyZSgnbW9uZ29vc2UnKTtcblxuY29uc3QgQm9va1NjaGVtYSA9IG5ldyBtb25nb29zZS5TY2hlbWEoe1xuICAgIHRpdGxlOiB7XG4gICAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgICAgcmVxdWlyZWQ6IFt0cnVlLCAnUGxlYXNlIGFkZCBhIHRpdGxlJ10sXG4gICAgICAgIHRyaW06IHRydWUsXG4gICAgICAgIG1heGxlbmd0aDogWzEyMCwgJ1RpdGxlIGNhbm5vdCBiZSBtb3JlIHRoYW4gNDAgY2hhcmFjdGVycyddXG4gICAgfSxcbiAgICBhdXRob3I6e1xuICAgICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICBtYXhsZW5ndGg6IFsxMjAsICdhdXRob3IgY2Fubm90IGJlIG1vcmUgdGhhbiA0MCBjaGFyYWN0ZXJzJ11cbiAgICB9LFxuXG4gICAgb3duZXJJRDp7XG4gICAgICAgIHR5cGU6IE51bWJlcixcbiAgICB9LFxuICAgIG93bmVyTmFtZTp7XG4gICAgICAgIHR5cGU6IFN0cmluZyxcbiAgICB9LFxuICAgIGltYWdlRnJvbnQ6IFxuICAgIHsgXG4gICAgICAgIGRhdGE6IFN0cmluZywgXG4gICAgICAgIGNvbnRlbnRUeXBlOiBTdHJpbmcgXG4gICAgfVxuXG59KVxuXG5tb2R1bGUuZXhwb3J0cyA9IG1vbmdvb3NlLm1vZGVscy5Cb29rIHx8IG1vbmdvb3NlLm1vZGVsKCdCb29rJyxcbkJvb2tTY2hlbWEpOyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./modals/book.js\n");

/***/ }),

/***/ "./pages/api/books/index.js":
/*!**********************************!*\
  !*** ./pages/api/books/index.js ***!
  \**********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _utils_dbConnect__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../utils/dbConnect */ \"./utils/dbConnect.js\");\n/* harmony import */ var _modals_book__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../modals/book */ \"./modals/book.js\");\n/* harmony import */ var _modals_book__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_modals_book__WEBPACK_IMPORTED_MODULE_1__);\n\n\nObject(_utils_dbConnect__WEBPACK_IMPORTED_MODULE_0__[\"default\"])();\nconsole.log('inside the main book ');\n/* harmony default export */ __webpack_exports__[\"default\"] = (async (req, res) => {\n  const {\n    method\n  } = req;\n  console.log('method is ' + method);\n  var myTitle = req.headers.title;\n  var myAuthor = req.headers.author;\n\n  if (req.body.id) {\n    console.log('id present.');\n    const myID = req.body.id;\n    myTitle = req.body.title;\n    myAuthor = req.body.author; //const ownerID = req.body.ownerID;\n\n    console.log(req.body);\n  }\n\n  console.log('title is ' + myTitle);\n  console.log('author is ' + myAuthor); //console.log(req.body.imageFront.data[0]);\n  // In case we have only the author as input, we will looking\n  // for all books with that author\n\n  if (myTitle == '' && myAuthor != '') {\n    console.log('No title');\n\n    switch (method) {\n      case 'GET':\n        try {\n          const books = await _modals_book__WEBPACK_IMPORTED_MODULE_1___default.a.find({\n            //Sort here\n            //'title': myTitle\n            'author': myAuthor\n          });\n          res.status(200).json({\n            success: true,\n            data: books\n          });\n        } catch (error) {\n          res.status(400).json({\n            success: false\n          });\n          console.log('Author not found');\n        }\n\n        break;\n\n      case 'POST':\n        try {\n          const book = await _modals_book__WEBPACK_IMPORTED_MODULE_1___default.a.create(req.body);\n          console.log('post');\n          console.log(req.body);\n          res.status(201).json({\n            success: true,\n            data: book\n          });\n        } catch (error) {\n          res.status(400).json({\n            success: false\n          });\n          console.log(\"couldn't post 1\");\n        }\n\n        break;\n\n      default:\n        res.status(400).json({\n          success: false\n        });\n        break;\n    }\n  } //In case only the title is given as input,\n  // Look for all books with that title\n  else if (myAuthor == '' && myTitle != '') {\n      console.log('No author');\n\n      switch (method) {\n        case 'GET':\n          try {\n            const books = await _modals_book__WEBPACK_IMPORTED_MODULE_1___default.a.find({\n              //Sort here\n              'title': myTitle //'author': 'Robert Kiyosaki'\n\n            });\n            res.status(200).json({\n              success: true,\n              data: books\n            });\n          } catch (error) {\n            res.status(400).json({\n              success: false\n            });\n            console.log('Title not found');\n          }\n\n          break;\n\n        case 'POST':\n          try {\n            const book = await _modals_book__WEBPACK_IMPORTED_MODULE_1___default.a.create(req.body);\n            console.log('post');\n            console.log(req.body);\n            res.status(201).json({\n              success: true,\n              data: book\n            });\n          } catch (error) {\n            res.status(400).json({\n              success: false\n            });\n            console.log(\"couldn't post 2\");\n          }\n\n          break;\n\n        default:\n          res.status(400).json({\n            success: false\n          });\n          break;\n      }\n    } // User input both the title and the author\n    // Return book matching both\n    else if (myTitle != '' && myAuthor != '') {\n        console.log('my title is: ' + myTitle);\n        console.log('my author is: ' + myAuthor);\n\n        switch (method) {\n          case 'GET':\n            try {\n              const books = await _modals_book__WEBPACK_IMPORTED_MODULE_1___default.a.find({\n                //Sort here\n                'title': myTitle,\n                'author': myAuthor\n              });\n              console.log('books are ready');\n              res.status(200).json({\n                success: true,\n                data: books\n              });\n            } catch (error) {\n              res.status(400).json({\n                success: false\n              });\n            }\n\n            break;\n\n          case 'POST':\n            try {\n              const book = await _modals_book__WEBPACK_IMPORTED_MODULE_1___default.a.create(req.body); //var str = req.body.imageFront;\n              //var str = req.body.imageFront.data;\n              //console.log(str)\n\n              res.status(201).json({\n                success: true,\n                data: book\n              });\n            } catch (error) {\n              res.status(400).json({\n                success: false\n              });\n              console.log(\"couldn't post 3\");\n              console.log('Failed: ' + myTitle + ' ' + myAuthor);\n            }\n\n            break;\n\n          case 'PUT':\n            try {\n              const book = await _modals_book__WEBPACK_IMPORTED_MODULE_1___default.a.findByIdAndUpdate(req.body.id, req.body, {\n                new: true,\n                runValidators: true\n              });\n\n              if (!book) {\n                return res.status(400).json({\n                  success: '!book'\n                });\n              }\n\n              res.status(200).json({\n                success: true,\n                data: book\n              });\n            } catch (error) {\n              res.status(400).json({\n                success: false\n              });\n            }\n\n            break;\n\n          default:\n            res.status(400).json({\n              success: false\n            });\n            break;\n        }\n      } // There is no given title and author\n      // We return all books available\n      else if (myTitle == '' && myAuthor == '') {\n          console.log('in number 4');\n\n          switch (method) {\n            case 'GET':\n              if (req.headers.id) {\n                try {\n                  console.log('awaiting book now:');\n                  const books = await _modals_book__WEBPACK_IMPORTED_MODULE_1___default.a.find({\n                    ownerID: req.headers.id\n                  });\n                  console.log('Got books');\n                  res.status(200).json({\n                    success: true,\n                    data: books\n                  });\n                } catch (error) {\n                  res.status(400).json({\n                    success: false\n                  });\n                }\n              } else {\n                try {\n                  const books = await _modals_book__WEBPACK_IMPORTED_MODULE_1___default.a.find({});\n                  res.status(200).json({\n                    success: true,\n                    data: books\n                  });\n                } catch (error) {\n                  res.status(400).json({\n                    success: false\n                  });\n                }\n              }\n\n              break;\n\n            case 'POST':\n              try {\n                const book = await _modals_book__WEBPACK_IMPORTED_MODULE_1___default.a.create(req.body);\n                console.log('post');\n                console.log(req.body);\n                res.status(201).json({\n                  success: true,\n                  data: book\n                });\n              } catch (error) {\n                res.status(400).json({\n                  success: false\n                });\n                console.log(\"couldn't post 4\");\n              }\n\n              break;\n            //Deleting book post here instead of in [id].js\n\n            case 'DELETE':\n              console.log('Attempting to delete: ' + req.body.id);\n\n              try {\n                const deletedBook = await _modals_book__WEBPACK_IMPORTED_MODULE_1___default.a.deleteOne({\n                  _id: req.body.id\n                });\n\n                if (!deletedBook) {\n                  return res.status(400).json({\n                    success: false\n                  });\n                }\n\n                res.status(200).json({\n                  success: true,\n                  data: {}\n                });\n              } catch (error) {\n                return res.status(400).json({\n                  success: 'some error happenn'\n                });\n              }\n\n            default:\n              res.status(400).json({\n                success: false\n              });\n              break;\n          }\n        }\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9wYWdlcy9hcGkvYm9va3MvaW5kZXguanM/OGY2YSJdLCJuYW1lcyI6WyJkYkNvbm5lY3QiLCJjb25zb2xlIiwibG9nIiwicmVxIiwicmVzIiwibWV0aG9kIiwibXlUaXRsZSIsImhlYWRlcnMiLCJ0aXRsZSIsIm15QXV0aG9yIiwiYXV0aG9yIiwiYm9keSIsImlkIiwibXlJRCIsImJvb2tzIiwiQm9vayIsImZpbmQiLCJzdGF0dXMiLCJqc29uIiwic3VjY2VzcyIsImRhdGEiLCJlcnJvciIsImJvb2siLCJjcmVhdGUiLCJmaW5kQnlJZEFuZFVwZGF0ZSIsIm5ldyIsInJ1blZhbGlkYXRvcnMiLCJvd25lcklEIiwiZGVsZXRlZEJvb2siLCJkZWxldGVPbmUiLCJfaWQiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUVBQSxnRUFBUztBQUVUQyxPQUFPLENBQUNDLEdBQVIsQ0FBWSx1QkFBWjtBQUllLHNFQUFPQyxHQUFQLEVBQVlDLEdBQVosS0FBb0I7QUFHL0IsUUFBTTtBQUFFQztBQUFGLE1BQWFGLEdBQW5CO0FBRUFGLFNBQU8sQ0FBQ0MsR0FBUixDQUFZLGVBQWNHLE1BQTFCO0FBS0EsTUFBSUMsT0FBTyxHQUFHSCxHQUFHLENBQUNJLE9BQUosQ0FBWUMsS0FBMUI7QUFDQSxNQUFJQyxRQUFRLEdBQUdOLEdBQUcsQ0FBQ0ksT0FBSixDQUFZRyxNQUEzQjs7QUFFQSxNQUFJUCxHQUFHLENBQUNRLElBQUosQ0FBU0MsRUFBYixFQUFnQjtBQUNaWCxXQUFPLENBQUNDLEdBQVIsQ0FBWSxhQUFaO0FBQ0EsVUFBTVcsSUFBSSxHQUFHVixHQUFHLENBQUNRLElBQUosQ0FBU0MsRUFBdEI7QUFDQU4sV0FBTyxHQUFHSCxHQUFHLENBQUNRLElBQUosQ0FBU0gsS0FBbkI7QUFDQUMsWUFBUSxHQUFHTixHQUFHLENBQUNRLElBQUosQ0FBU0QsTUFBcEIsQ0FKWSxDQUtaOztBQUNBVCxXQUFPLENBQUNDLEdB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SSxDQUFDYyxTQUFMLENBQWU7QUFBRUMscUJBQUcsRUFBRTNCLEdBQUcsQ0FBQ1EsSUFBSixDQUFTQztBQUFoQixpQkFBZixDQUExQjs7QUFFQSxvQkFBSSxDQUFDZ0IsV0FBTCxFQUFpQjtBQUNqQix5QkFBT3hCLEdBQUcsQ0FBQ2EsTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQUVDLDJCQUFPLEVBQUU7QUFBWCxtQkFBckIsQ0FBUDtBQUVDOztBQUViZixtQkFBRyxDQUFDYSxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7QUFBRUMseUJBQU8sRUFBRSxJQUFYO0FBQWlCQyxzQkFBSSxFQUFFO0FBQXZCLGlCQUFyQjtBQUNELGVBVFMsQ0FTUixPQUFPQyxLQUFQLEVBQWM7QUFDZCx1QkFBT2pCLEdBQUcsQ0FBQ2EsTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQUVDLHlCQUFPLEVBQUU7QUFBWCxpQkFBckIsQ0FBUDtBQUVEOztBQUVLO0FBQ0lmLGlCQUFHLENBQUNhLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUFFQyx1QkFBTyxFQUFFO0FBQVgsZUFBckI7QUFDQTtBQXBFUjtBQXNFSDtBQUlKLENBalFEIiwiZmlsZSI6Ii4vcGFnZXMvYXBpL2Jvb2tzL2luZGV4LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGRiQ29ubmVjdCBmcm9tICcuLi8uLi8uLi91dGlscy9kYkNvbm5lY3QnO1xuaW1wb3J0IEJvb2sgZnJvbSAnLi4vLi4vLi4vbW9kYWxzL2Jvb2snO1xuXG5kYkNvbm5lY3QoKTtcblxuY29uc29sZS5sb2coJ2luc2lkZSB0aGUgbWFpbiBib29rICcpXG5cblxuXG5leHBvcnQgZGVmYXVsdCBhc3luYyAocmVxLCByZXMpID0+IHtcblxuIFxuICAgIGNvbnN0IHsgbWV0aG9kIH0gPSByZXE7IFxuXG4gICAgY29uc29sZS5sb2coJ21ldGhvZCBpcyAnKyBtZXRob2QpXG5cblxuICAgIFxuXG4gICAgdmFyIG15VGl0bGUgPSByZXEuaGVhZGVycy50aXRsZTtcbiAgICB2YXIgbXlBdXRob3IgPSByZXEuaGVhZGVycy5hdXRob3I7XG5cbiAgICBpZiAocmVxLmJvZHkuaWQpe1xuICAgICAgICBjb25zb2xlLmxvZygnaWQgcHJlc2VudC4nKVxuICAgICAgICBjb25zdCBteUlEID0gcmVxLmJvZHkuaWQ7XG4gICAgICAgIG15VGl0bGUgPSByZXEuYm9keS50aXRsZTtcbiAgICAgICAgbXlBdXRob3IgPSByZXEuYm9keS5hdXRob3I7XG4gICAgICAgIC8vY29uc3Qgb3duZXJJRCA9IHJlcS5ib2R5Lm93bmVySUQ7XG4gICAgICAgIGNvbnNvbGUubG9nKHJlcS5ib2R5KTtcblxuICAgIH1cbiAgICBcblxuICAgIGNvbnNvbGUubG9nKCd0aXRsZSBpcyAnK215VGl0bGUpO1xuICAgIGNvbnNvbGUubG9nKCdhdXRob3IgaXMgJysgbXlBdXRob3IpO1xuICAgIC8vY29uc29sZS5sb2cocmVxLmJvZHkuaW1hZ2VGcm9udC5kYXRhWzBdKTtcblxuXG4gICBcbiAgICAvLyBJbiBjYXNlIHdlIGhhdmUgb25seSB0aGUgYXV0aG9yIGFzIGlucHV0LCB3ZSB3aWxsIGxvb2tpbmdcbiAgICAvLyBmb3IgYWxsIGJvb2tzIHdpdGggdGhhdCBhdXRob3JcbiAgICBpZiAobXlUaXRsZT09JycgJiYgbXlBdXRob3IhPScnKXtcbiAgICAgICAgY29uc29sZS5sb2coJ05vIHRpdGxlJylcblxuICAgICAgICBzd2l0Y2gobWV0aG9kKXtcbiAgICAgICAgICAgIGNhc2UgJ0dFVCc6XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGJvb2tzID0gYXdhaXQgQm9vay5maW5kKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vU29ydCBoZXJlXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyd0aXRsZSc6IG15VGl0bGVcbiAgICAgICAgICAgICAgICAgICAgICAgICdhdXRob3InOiBteUF1dGhvclxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIFxuICAgIFxuICAgICAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IGJvb2tzIH0pXG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDApLmpzb24oeyBzdWNjZXNzOiBmYWxzZSB9KTsgXG5cbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0F1dGhvciBub3QgZm91bmQnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdQT1NUJzpcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBib29rID0gYXdhaXQgQm9vay5jcmVhdGUocmVxLmJvZHkpO1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygncG9zdCcpO1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXEuYm9keSk7XG4gICAgXG4gICAgICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAxKS5qc29uKHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogYm9vayB9KVxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgc3VjY2VzczogZmFsc2UgfSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiY291bGRuJ3QgcG9zdCAxXCIpO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgc3VjY2VzczogZmFsc2UgfSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuXG4gICAgfVxuXG4gICAgLy9JbiBjYXNlIG9ubHkgdGhlIHRpdGxlIGlzIGdpdmVuIGFzIGlucHV0LFxuICAgIC8vIExvb2sgZm9yIGFsbCBib29rcyB3aXRoIHRoYXQgdGl0bGVcbiAgICBlbHNlIGlmIChteUF1dGhvcj09JycgJiYgbXlUaXRsZSE9Jycpe1xuICAgICAgICBjb25zb2xlLmxvZygnTm8gYXV0aG9yJyk7XG5cbiAgICAgICAgc3dpdGNoKG1ldGhvZCl7XG4gICAgICAgICAgICBjYXNlICdHRVQnOlxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBjb25zdCBib29rcyA9IGF3YWl0IEJvb2suZmluZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAvL1NvcnQgaGVyZVxuICAgICAgICAgICAgICAgICAgICAgICAgJ3RpdGxlJzogbXlUaXRsZVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8nYXV0aG9yJzogJ1JvYmVydCBLaXlvc2FraSdcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgIFxuICAgICAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IGJvb2tzIH0pXG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDApLmpzb24oeyBzdWNjZXNzOiBmYWxzZSB9KTtcblxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnVGl0bGUgbm90IGZvdW5kJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnUE9TVCc6XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYm9vayA9IGF3YWl0IEJvb2suY3JlYXRlKHJlcS5ib2R5KTtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3Bvc3QnKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVxLmJvZHkpO1xuICAgIFxuICAgICAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDIwMSkuanNvbih7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IGJvb2sgfSlcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwMCkuanNvbih7IHN1Y2Nlc3M6IGZhbHNlIH0pO1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImNvdWxkbid0IHBvc3QgMlwiKTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwMCkuanNvbih7IHN1Y2Nlc3M6IGZhbHNlIH0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gVXNlciBpbnB1dCBib3RoIHRoZSB0aXRsZSBhbmQgdGhlIGF1dGhvclxuICAgIC8vIFJldHVybiBib29rIG1hdGNoaW5nIGJvdGhcbiAgICBlbHNlIGlmIChteVRpdGxlIT0nJyAmJiBteUF1dGhvciE9Jycpe1xuICAgICAgICBjb25zb2xlLmxvZygnbXkgdGl0bGUgaXM6ICcrIG15VGl0bGUpO1xuICAgICAgICBjb25zb2xlLmxvZygnbXkgYXV0aG9yIGlzOiAnKyBteUF1dGhvcik7XG4gICAgICAgIHN3aXRjaChtZXRob2Qpe1xuICAgICAgICAgICAgY2FzZSAnR0VUJzpcbiAgICAgICAgICAgICAgICB0cnkge1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGJvb2tzID0gYXdhaXQgQm9vay5maW5kKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vU29ydCBoZXJlXG4gICAgICAgICAgICAgICAgICAgICAgICAndGl0bGUnOiBteVRpdGxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2F1dGhvcic6IG15QXV0aG9yXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnYm9va3MgYXJlIHJlYWR5JylcbiAgICBcbiAgICAgICAgICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oeyBzdWNjZXNzOiB0cnVlLCBkYXRhOiBib29rcyB9KVxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgc3VjY2VzczogZmFsc2UgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnUE9TVCc6XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYm9vayA9IGF3YWl0IEJvb2suY3JlYXRlKHJlcS5ib2R5KTtcbiAgICAgICAgICAgICAgICAgICAgLy92YXIgc3RyID0gcmVxLmJvZHkuaW1hZ2VGcm9udDtcbiAgICAgICAgICAgICAgICAgICAgLy92YXIgc3RyID0gcmVxLmJvZHkuaW1hZ2VGcm9udC5kYXRhO1xuICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKHN0cilcbiAgICBcbiAgICAgICAgICAgICAgICAgICAgcmVzLnN0YXR1cygyMDEpLmpzb24oeyBzdWNjZXNzOiB0cnVlLCBkYXRhOiBib29rIH0pXG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDApLmpzb24oeyBzdWNjZXNzOiBmYWxzZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJjb3VsZG4ndCBwb3N0IDNcIik7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdGYWlsZWQ6ICcrbXlUaXRsZSsnICcrbXlBdXRob3IpO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdQVVQnOlxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGJvb2sgPSBhd2FpdCBCb29rLmZpbmRCeUlkQW5kVXBkYXRlKHJlcS5ib2R5LmlkLCByZXEuYm9keSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3OiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgcnVuVmFsaWRhdG9yczogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoIWJvb2spe1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgc3VjY2VzczogJyFib29rJyB9KTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IGJvb2sgfSk7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDApLmpzb24oeyBzdWNjZXNzOiBmYWxzZSB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgc3VjY2VzczogZmFsc2UgfSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgXG5cbiAgICAvLyBUaGVyZSBpcyBubyBnaXZlbiB0aXRsZSBhbmQgYXV0aG9yXG4gICAgLy8gV2UgcmV0dXJuIGFsbCBib29rcyBhdmFpbGFibGVcbiAgICBlbHNlIGlmIChteVRpdGxlPT0nJyAmJiBteUF1dGhvcj09Jycpe1xuICAgICAgICBjb25zb2xlLmxvZygnaW4gbnVtYmVyIDQnKVxuICAgICAgICBzd2l0Y2gobWV0aG9kKXtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY2FzZSAnR0VUJzpcbiAgICAgICAgICAgICAgICBpZiAocmVxLmhlYWRlcnMuaWQpe1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdhd2FpdGluZyBib29rIG5vdzonKVxuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGJvb2tzID0gYXdhaXQgQm9vay5maW5kKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG93bmVySUQ6IHJlcS5oZWFkZXJzLmlkXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdHb3QgYm9va3MnKTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgXG4gICAgICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogYm9va3MgfSlcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwMCkuanNvbih7IHN1Y2Nlc3M6IGZhbHNlIH0pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYm9va3MgPSBhd2FpdCBCb29rLmZpbmQoe1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgXG4gICAgICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogYm9va3MgfSlcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwMCkuanNvbih7IHN1Y2Nlc3M6IGZhbHNlIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ1BPU1QnOlxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGJvb2sgPSBhd2FpdCBCb29rLmNyZWF0ZShyZXEuYm9keSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdwb3N0Jyk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlcS5ib2R5KTtcbiAgICBcbiAgICAgICAgICAgICAgICAgICAgcmVzLnN0YXR1cygyMDEpLmpzb24oeyBzdWNjZXNzOiB0cnVlLCBkYXRhOiBib29rIH0pXG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDApLmpzb24oeyBzdWNjZXNzOiBmYWxzZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJjb3VsZG4ndCBwb3N0IDRcIik7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgLy9EZWxldGluZyBib29rIHBvc3QgaGVyZSBpbnN0ZWFkIG9mIGluIFtpZF0uanNcbiAgICAgICAgICAgIGNhc2UgJ0RFTEVURSc6XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0F0dGVtcHRpbmcgdG8gZGVsZXRlOiAnKyByZXEuYm9keS5pZCk7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGVsZXRlZEJvb2sgPSBhd2FpdCBCb29rLmRlbGV0ZU9uZSh7IF9pZDogcmVxLmJvZHkuaWQgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFkZWxldGVkQm9vayl7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IHN1Y2Nlc3M6IGZhbHNlIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IHt9IH0pO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgc3VjY2VzczogJ3NvbWUgZXJyb3IgaGFwcGVubicgfSk7XG5cbiAgICAgIH1cblxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwMCkuanNvbih7IHN1Y2Nlc3M6IGZhbHNlIH0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuXG5cblxufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./pages/api/books/index.js\n");

/***/ }),

/***/ "./utils/dbConnect.js":
/*!****************************!*\
  !*** ./utils/dbConnect.js ***!
  \****************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconsole.log('inside dbConnect');\nconst connection = {}; //mongoose.set('useFindAndModify', false);\n\nconsole.log('Trying to connect to db.');\n\nasync function dbConnect() {\n  console.log('Above if statement.');\n\n  if (connection.isConnected) {\n    console.log('db on from first call');\n    return 1;\n  }\n\n  console.log('awaiting for db connection');\n  const db = await mongoose__WEBPACK_IMPORTED_MODULE_0___default.a.connect(\"mongodb+srv://profiles:MongoPass@cluster0-f8o3q.gcp.mongodb.net/profiles?retryWrites=true&w=majority\", {//useNewUrlParser: true\n    //useUnifiedTopology: true\n  });\n\n  if (db.connections) {\n    console.log('\\nConnection exist');\n  } else {\n    console.log('no connections found');\n  }\n\n  connection.isConnected = db.connections[0].readyState;\n  console.log(connection.isConnected);\n  console.log('db is on.');\n\n  if (connection.isConnected) {\n    console.log('db on from second call');\n    return 1;\n  }\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (dbConnect);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi91dGlscy9kYkNvbm5lY3QuanM/NDZlMiJdLCJuYW1lcyI6WyJjb25zb2xlIiwibG9nIiwiY29ubmVjdGlvbiIsImRiQ29ubmVjdCIsImlzQ29ubmVjdGVkIiwiZGIiLCJtb25nb29zZSIsImNvbm5lY3QiLCJwcm9jZXNzIiwiY29ubmVjdGlvbnMiLCJyZWFkeVN0YXRlIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWSxrQkFBWjtBQUVBLE1BQU1DLFVBQVUsR0FBRyxFQUFuQixDLENBQ0E7O0FBR0FGLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLDBCQUFaOztBQUNBLGVBQWVFLFNBQWYsR0FBMEI7QUFFdEJILFNBQU8sQ0FBQ0MsR0FBUixDQUFZLHFCQUFaOztBQUVBLE1BQUlDLFVBQVUsQ0FBQ0UsV0FBZixFQUE0QjtBQUN4QkosV0FBTyxDQUFDQyxHQUFSLENBQVksdUJBQVo7QUFDQSxXQUFPLENBQVA7QUFDSDs7QUFHREQsU0FBTyxDQUFDQyxHQUFSLENBQVksNEJBQVo7QUFFRCxRQUFNSSxFQUFFLEdBQUcsTUFBTUMsK0NBQVEsQ0FBQ0MsT0FBVCxDQUFpQkMsc0dBQWpCLEVBQXdDLENBQ3hEO0FBQ0E7QUFGd0QsR0FBeEMsQ0FBakI7O0FBTUgsTUFBSUgsRUFBRSxDQUFDSSxXQUFQLEVBQW1CO0FBQ2ZULFdBQU8sQ0FBQ0MsR0FBUixDQUFZLG9CQUFaO0FBQ0gsR0FGRCxNQUdJO0FBQ0FELFdBQU8sQ0FBQ0MsR0FBUixDQUFZLHNCQUFaO0FBQ0g7O0FBS0dDLFlBQVUsQ0FBQ0UsV0FBWCxHQUF5QkMsRUFBRSxDQUFDSSxXQUFILENBQWUsQ0FBZixFQUFrQkMsVUFBM0M7QUFDQVYsU0FBTyxDQUFDQyxHQUFSLENBQVlDLFVBQVUsQ0FBQ0UsV0FBdkI7QUFDQUosU0FBTyxDQUFDQyxHQUFSLENBQVksV0FBWjs7QUFDQSxNQUFJQyxVQUFVLENBQUNFLFdBQWYsRUFBNEI7QUFDeEJKLFdBQU8sQ0FBQ0MsR0FBUixDQUFZLHdCQUFaO0FBQ0EsV0FBTyxDQUFQO0FBQ0g7QUFHSjs7QUFFY0Usd0VBQWYiLCJmaWxlIjoiLi91dGlscy9kYkNvbm5lY3QuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSAnbW9uZ29vc2UnO1xuXG5jb25zb2xlLmxvZygnaW5zaWRlIGRiQ29ubmVjdCcpO1xuXG5jb25zdCBjb25uZWN0aW9uID0ge307XG4vL21vbmdvb3NlLnNldCgndXNlRmluZEFuZE1vZGlmeScsIGZhbHNlKTtcblxuXG5jb25zb2xlLmxvZygnVHJ5aW5nIHRvIGNvbm5lY3QgdG8gZGIuJyk7XG5hc3luYyBmdW5jdGlvbiBkYkNvbm5lY3QoKXtcbiAgICBcbiAgICBjb25zb2xlLmxvZygnQWJvdmUgaWYgc3RhdGVtZW50LicpXG4gICAgXG4gICAgaWYgKGNvbm5lY3Rpb24uaXNDb25uZWN0ZWQpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ2RiIG9uIGZyb20gZmlyc3QgY2FsbCcpXG4gICAgICAgIHJldHVybiAxO1xuICAgIH1cbiAgICBcblxuICAgIGNvbnNvbGUubG9nKCdhd2FpdGluZyBmb3IgZGIgY29ubmVjdGlvbicpXG4gICAgXG4gICBjb25zdCBkYiA9IGF3YWl0IG1vbmdvb3NlLmNvbm5lY3QocHJvY2Vzcy5lbnYuTU9OR09fVVJJLCB7XG4gICAgLy91c2VOZXdVcmxQYXJzZXI6IHRydWVcbiAgICAvL3VzZVVuaWZpZWRUb3BvbG9neTogdHJ1ZVxufSlcbiAgIFxuXG5pZiAoZGIuY29ubmVjdGlvbnMpe1xuICAgIGNvbnNvbGUubG9nKCdcXG5Db25uZWN0aW9uIGV4aXN0Jylcbn1cbmVsc2V7XG4gICAgY29uc29sZS5sb2coJ25vIGNvbm5lY3Rpb25zIGZvdW5kJylcbn1cblxuICBcbiAgICBcblxuICAgIGNvbm5lY3Rpb24uaXNDb25uZWN0ZWQgPSBkYi5jb25uZWN0aW9uc1swXS5yZWFkeVN0YXRlO1xuICAgIGNvbnNvbGUubG9nKGNvbm5lY3Rpb24uaXNDb25uZWN0ZWQpO1xuICAgIGNvbnNvbGUubG9nKCdkYiBpcyBvbi4nKVxuICAgIGlmIChjb25uZWN0aW9uLmlzQ29ubmVjdGVkKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdkYiBvbiBmcm9tIHNlY29uZCBjYWxsJylcbiAgICAgICAgcmV0dXJuIDE7XG4gICAgfVxuICAgIFxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IGRiQ29ubmVjdDsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./utils/dbConnect.js\n");

/***/ }),

/***/ "mongoose":
/*!***************************!*\
  !*** external "mongoose" ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"mongoose\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJtb25nb29zZVwiP2ZmZDciXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoibW9uZ29vc2UuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJtb25nb29zZVwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///mongoose\n");

/***/ })

/******/ });